<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VAIRAL VIDEO - Premium Design</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        :root { --main-grad: linear-gradient(135deg, #8e2de2, #4a00e0); --bg: #f8f9fa; }
        body { background: var(--bg); color: #333; font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; }
        
        /* ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶∏‡ßá‡¶á ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶¨‡ßá‡¶ó‡ßÅ‡¶®‡¶ø ‡¶π‡ßá‡¶°‡¶æ‡¶∞ */
        .header-section { background: var(--main-grad); padding: 50px 20px; text-align: center; color: white; border-radius: 0 0 40px 40px; box-shadow: 0 10px 30px rgba(74, 0, 224, 0.3); }
        .header-section h1 { margin: 0; font-size: 30px; letter-spacing: 1px; }
        .header-section p { font-size: 14px; opacity: 0.9; margin-top: 10px; }

        /* ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ‡¶∞ */
        .search-area { margin: -30px 25px 25px 25px; position: relative; }
        .search-input { width: 100%; padding: 18px 25px; border-radius: 50px; border: none; background: white; box-shadow: 0 10px 25px rgba(0,0,0,0.1); font-size: 16px; outline: none; box-sizing: border-box; }

        /* ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü */
        .main-content { padding: 20px; }
        .card { background: white; border-radius: 25px; overflow: hidden; margin-bottom: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.05); border: 1px solid #eee; }
        .thumb-box { width: 100%; height: 210px; background: #ddd; position: relative; }
        .thumb-box img { width: 100%; height: 100%; object-fit: cover; }
        .card-details { padding: 20px; }
        .card-details h3 { margin: 0; font-size: 19px; color: #222; }
        .ad-info { color: #ff4757; font-size: 13px; font-weight: bold; margin: 10px 0; display: flex; align-items: center; gap: 5px; }
        
        /* ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶® */
        .unlock-btn { background: var(--main-grad); color: white; border: none; padding: 15px; width: 100%; border-radius: 15px; font-weight: bold; font-size: 16px; cursor: pointer; transition: 0.3s; box-shadow: 0 5px 15px rgba(74, 0, 224, 0.2); }
        
        /* ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® */
        #ad-view { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 99999; flex-direction: column; justify-content: center; align-items: center; }
        .timer-circle { width: 110px; height: 110px; border: 6px solid #4a00e0; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 45px; font-weight: bold; color: #4a00e0; margin-bottom: 30px; border-top-color: #eee; animation: spin 10s linear; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .ad-btn { background: #0088cc; color: white; padding: 18px 45px; border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 18px; display: none; }
    </style>
</head>
<body>

    <div class="header-section">
        <h1>All Video PLAY üîû</h1>
        <p>‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶á‡¶®‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶™‡¶æ‡¶®‡•§</p>
    </div>

    <div class="search-area">
        <input type="text" class="search-input" placeholder="üîç ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®...">
    </div>

    <div class="main-content">
        <div id="video-display">‡¶≤‡ßã‡¶°‡¶ø‡¶Ç...</div>
    </div>

    <div id="ad-view">
        <div class="timer-circle" id="timer">10</div>
        <p id="ad-msg" style="color:#666; font-size: 18px;">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        <a href="#" id="ad-go-btn" class="ad-btn" target="_blank">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</a>
    </div>

    <script>
        // Firebase Setup
        const firebaseConfig = { databaseURL: "https://myvideobot-9f9ee-default-rtdb.firebaseio.com/" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞
        db.ref('videos').on('value', (snap) => {
            const data = snap.val();
            const container = document.getElementById('video-display');
            container.innerHTML = "";
            for (let id in data) {
                container.innerHTML += `
                    <div class="card">
                        <div class="thumb-box">
                            <img src="${data[id].photo}" onerror="this.src='https://via.placeholder.com/400x220?text=No+Image'">
                        </div>
                        <div class="card-details">
                            <h3>${data[id].name}</h3>
                            <div class="ad-info">üîû ${data[id].ads.length} ‡¶ü‡¶ø Ads ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ü‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡¶æ</div>
                            <button class="unlock-btn" onclick="openAd('${id}', ${JSON.stringify(data[id].ads)})">üîí ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® (0/${data[id].ads.length})</button>
                        </div>
                    </div>`;
            }
        });

        let ads = []; let v_id = ""; let step = 0;
        function openAd(id, adList) {
            v_id = id; ads = adList; step = 0;
            showAdScreen();
        }

        function showAdScreen() {
            document.getElementById('ad-view').style.display = 'flex';
            document.getElementById('ad-go-btn').style.display = 'none';
            let time = 10;
            const timerObj = document.getElementById('timer');
            const msgObj = document.getElementById('ad-msg');
            
            const interval = setInterval(() => {
                timerObj.innerText = time;
                if (time <= 0) {
                    clearInterval(interval);
                    msgObj.innerText = "‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®";
                    const btn = document.getElementById('ad-go-btn');
                    btn.style.display = 'block';
                    btn.href = ads[step];
                    btn.onclick = () => {
                        step++;
                        if (step < ads.length) { setTimeout(showAdScreen, 1500); }
                        else { 
                            msgObj.innerText = "‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
                            setTimeout(() => { window.location.href = `https://t.me/vairal_video18_bot?start=${v_id}`; }, 2000);
                        }
                    };
                }
                time--;
            }, 1000);
        }
    </script>
</body>
</html>
            document.getElementById('ad-msg').innerText = `‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ${step + 1} ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...`;
            
            let timeLeft = 10;
            const clock = setInterval(() => {
                document.getElementById('timer').innerText = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(clock);
                    document.getElementById('ad-msg').innerText = "‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®";
                    const btn = document.getElementById('ad-btn');
                    btn.style.display = 'block';
                    btn.href = currentAds[step];
                    
                    btn.onclick = () => {
                        step++;
                        if (step < currentAds.length) {
                            setTimeout(showAdScreen, 1500); 
                        } else {
                            document.getElementById('ad-msg').innerText = "‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§";
                            setTimeout(() => {
                                window.location.href = `https://t.me/vairal_video18_bot?start=${vId}`;
                            }, 2000);
                        }
                    };
                }
                timeLeft--;
            }, 1000);
        }
    </script>
</body>
</html>
